---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Cmd+Shift+Enter*. 

```{r}
library(catmaid)
library(dplyr)
library(tidyr)
library(elmr)
```
Get all the upstream neurons for Flywalkies
```{r}
# get the table of partners
flywalkies = catmaid_query_connected(32793)
flywalkiesOutput = flywalkies$outgoing
```

```{r}
anotToNeuronNumber <- function(annotation='', variable = '', )
upn = catmaid_query_by_annotation("WTPN2017_uPN")[["5492797"]]
mpn = catmaid_query_by_annotation("WTPN2017_mPN")[["11237450"]]
# writing a function
upnN = sum(flywalkiesOutput$partner %in% upn$skid)
mpnN = sum(flywalkiesOutput$partner %in% mpn$skid)
other = ((length(flywalkiesOutput$partner))-(upnN+mpnN))
#create a dataframe
df <- data.frame(Category= c('uPN', 'mPN', 'Other'), Number = c(upnN, mpnN, other))
```


Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Cmd+Option+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Cmd+Shift+K* to preview the HTML file). 

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.

